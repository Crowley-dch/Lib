<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Librio - –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞{% endblock %}</title>

    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìö</text></svg>">

    <!-- CSS -->
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    {% block extra_css %}{% endblock %}
</head>
<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <nav class="navbar">
        <div class="container">
            <div class="logo">
                <h1 style="margin: 0; font-size: 1.5em;">üìö Librio</h1>
            </div>

            <div class="nav-links">
                <a href="{% url 'book_list' %}">–ö–∞—Ç–∞–ª–æ–≥</a>

                {% if user.is_authenticated %}
                    {% with user_type=user.userprofile.user_type|default:"student" %}
                        <a href="{% url 'my_loans' %}">–ú–æ–∏ –∫–Ω–∏–≥–∏</a>

                        {% if user_type == 'admin' or user_type == 'librarian' %}
                            <a href="{% url 'manage_books' %}">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</a>
                        {% endif %}

                        {% if user_type == 'admin' %}
                            <a href="{% url 'admin_dashboard' %}">–î–∞—à–±–æ—Ä–¥</a>
                        {% endif %}


                        <span style="color: #ecf0f1;">{{ user.username }}</span>
                        <a href="{% url 'logout' %}" class="btn btn-danger" style="padding: 5px 10px;">–í—ã–π—Ç–∏</a>
                    {% endwith %}
                {% else %}
                    <a href="{% url 'login' %}" class="btn" style="padding: 5px 10px;">–í–æ–π—Ç–∏</a>
                    <a href="{% url 'register' %}" class="btn btn-success" style="padding: 5px 10px;">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
                {% endif %}
            </div>
        </div>
    </nav>

    <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
    <div class="container">
        {% if messages %}
            {% for message in messages %}
                <div class="alert alert-{{ message.tags|default:'info' }}">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <main class="container">
        {% block content %}{% endblock %}
    </main>

    <!-- –§—É—Ç–µ—Ä -->
    <footer style="margin-top: 50px; padding: 20px 0; background: var(--light-bg); border-top: 1px solid var(--border-color);">
        <div class="container">
            <p style="text-align: center; color: var(--light-text);">
                &copy; {% now "Y" %} Librio - –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞. –í–ª–∞–¥–∏–º–∏—Ä—Å–∫–∏–π –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç.
            </p>
            <p style="text-align: center; color: var(--light-text); font-size: 0.9em;">
                –°—Ç—É–¥–µ–Ω—Ç: –ß–∞–π–∫–∞ –î.–ú. | –ì—Ä—É–ø–ø–∞: –ò–ë-123 | –ö—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ –ë–∞–∑–∞–º –¥–∞–Ω–Ω—ã—Ö –∏ —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–º —Å–∏—Å—Ç–µ–º–∞–º
            </p>
        </div>
    </footer>

    {% block extra_js %}{% endblock %}
</body>
</html>